{% extends 'Default/base.html.twig' %}
{% block body %}
    {% block nav %}
        {% include '/Nav/nav.html.twig' %}
    {% endblock %}
    <div class="content">
        <div class="profil_couverture">
            <ul class="plugin_image">
                <li><img src="{{ info_user.getUserPhoto.couverture }}" class="profil_couverture_img"
                         alt="{{ info_user.username }}"/></li>
                {% for n in info_user.getAlbumCouverture %}
                    <li class="hide_profil"><img src="{{ n.getPhoto }}" alt="{{ info_user.username }}"></li>
                {% endfor %}
            </ul>
            <div class="profile_image">
                <ul class="plugin_image">
                    <li><img alt="{{ info_user.username }}" src="{{ info_user.getUserPhoto.profil }}"></li>
                    {% for n in info_user.getAlbumProfil %}
                        <li class="hide_profil"><img src="{{ n.getPhoto }}" alt="{{ info_user.username }}"></li>
                    {% endfor %}
                </ul>
            </div>
            <div class="name_user">
                {{ info_user.name }} {{ info_user.lastname }}
            </div>
        </div>
        <div class="menu_profile">
            <ul>
                {% if nbr_friends > 0 %}
                    <li><a href="#" data-toggle="modal" data-target="#friend_modal">Amis {{ nbr_friends }}</a></li>
                {% else %}
                    <li><a href="#">Ami 0</a></li>
                {% endif %}
                <li><a href="#">Amis en commun</a></li>
                <li><a href="/show/showalbum">Photos</a></li>
                {% if nbr_invitations > 0 %}
                    <li><a href="#" data-toggle="modal"
                           data-target="#invitation_modal">Invitations {{ nbr_invitations }}</a></li>
                {% else %}
                    <li><a href="#">Invitations 0</a></li>
                {% endif %}
            </ul>
        </div>
        <div class="mur_user">
            <div class="info_user_mur">
                {% if info_user.isconnect == true %}
                    <p>connecter</p>
                {% elseif info_user.isconnect == false %}
                    <p>pas connecter</p>
                {% endif %}
                <p> derniere connexion : {{ info_user.LastConnexion|date('Y-m-d') }}</p>
                <p> Compte crée le : {{ info_user.CreatedAt|date('Y-m-d') }}</p>
            </div>
            <div class="publication">
                <div class="post">
                    <form id="enquiry" action="">
                        <div class="upload">
                            <ul>
                                <li><a href="#"><img src="{{ asset('img/photo.png') }}" alt="profil image"/></a>
                                </li>
                                <li><a href="#"><img src="{{ asset('img/video.png') }}" alt="profil image"/></a>
                                </li>
                            </ul>
                        </div>
                        <textarea maxlength="140" name="message" id="message"
                                  placeholder="Poster une publication :)"></textarea>
                        <input type="submit" value="Publier">
                    </form>
                </div>
                <div class="on_my_mur">
                    {% for n in info_user.getArticles %}
                        <div class="each_post">
                            <a href="#"><img src="{{ info_user.getUserPhoto.profil }}" alt="profil image" class="each_post_img"/></a>
                            <div class="name_in_post">
                                {{ info_user.username }}
                            </div>
                            <div class="date_in_post">
                                Publié le {{ n.CreatedAt|date('Y-m-d') }}
                            </div>
                            <div class="text_in_post">
                                {{ n.getTitle }}
                            </div>
                            <div class="img_in_post">
                                <ul class="plugin_image">
                                    <li class="margin-img-publish"><img alt="{{ n.getTitle }}" src="{{ n.getContent }}">
                                        <p class="text">je suis la</p></li>
                                </ul>
                                Commentaire ici gro oublie pas avec sa un p et la classe text
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="list_amie_mur">
                <div class="number_amie">
                    {% if nbr_friends <= 1 %}
                        {{ nbr_friends }} ami
                    {% else %}
                        {{ nbr_friends }} amis
                    {% endif %}
                </div>
                <ul>
                    {% for n in friend1 %}
                        <li><a href="#"><img src="{{ n.userfriendtwo.getUserPhoto.profil }}" alt="profil image"/></a>
                        </li>
                    {% endfor %}
                    {% for n in friend2 %}
                        <li><a href="#"><img src="{{ n.userfriendone.getUserPhoto.profil }}" alt="profil image"/></a>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Modal Friend -->
            <div class="modal fade" id="friend_modal" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Amis</h4>
                        </div>
                        <div class="body">
                            <ul>
                                {% for n in all_friend1 %}
                                    <li><img src="{{ n.userfriendtwo.getUserPhoto.profil }}" alt="profil image"
                                             class="invitation_img"/> {{ n.userfriendtwo.getUsername }}</li>
                                    <br/>
                                {% endfor %}
                                {% for n in all_friend2 %}
                                    <li><img src="{{ n.userfriendone.getUserPhoto.profil }}" alt="profil image"
                                             class="invitation_img"/> {{ n.userfriendone.getUsername }}</li>
                                    <br/>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal invitation -->
            <div class="modal fade" id="invitation_modal" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Invitations</h4>
                        </div>
                        <div class="body">
                            <ul>
                                {% for n in invitations %}
                                    <li>
                                        <img src="{{ n.getUserInvitSender.getUserPhoto.profil }}" alt="profil image"
                                             class="invitation_img"/> {{ n.getUserInvitSender.getUsername }}
                                        <span class="pull-right">
                                             <a href="#">Accepter</a>
                                             <a href="#">Refuser</a>
                                         </span>
                                    </li>
                                    <br/>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
{% endblock %}
